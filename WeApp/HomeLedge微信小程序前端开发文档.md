# HomeLedger 小程序前端原型设计文档

## 1. 全局设计

- **重点**：尽可能使用vant weapp组件库，保持一致性

- **主色调**：要温暖、信任感，与家庭概念相关

**TabBar**：

| Tab | 图标 | 页面 |
|-----|------|------|
| 家庭 | home | FamilyPage |
| 交易 | swap | TransactionPage |
| 个人 | user | ProfilePage |


## 2. 家庭页面 (FamilyPage)

**布局原型**：

```
+-----------------------------+
| 家庭信息区                   |
| [家庭头像] 家庭名称 (ID)      |
| 成员总数: 5                 |
+-----------------------------+
| 成员列表                     |
| [头像] 姓名 余额             |
| [头像] 姓名 余额             |
| ...                          |
+-----------------------------+
| 操作区                       |
| [创建家庭] [加入家庭]         |
| (管理员) [设置每月额度]        |
+-----------------------------+
```

**交互说明**：
- 点击成员头像 → 弹窗显示余额详情
- 创建家庭 → 弹出表单 (名称、ID、头像) → 提交后刷新列表
- 申请加入家庭 → 输入家庭 ID 或扫码 → 提交申请
- 管理员权限：设置每月自由支配资金额度、审批成员加入请求


## 3. 交易页面 (TransactionPage)

**布局原型**：

```

+-----------------------------+
| 服务列表                     |
| [商品名] 提供者 价格 [购买]  |
| [商品名] 提供者 价格 [购买]  |
+-----------------------------+
| 悬赏任务                     |
| [任务名] 发布人 奖励金额 状态|
| [任务名] 发布人 奖励金额 状态|
| [发布任务按钮]                |
+-----------------------------+
| 交易记录                     |
| 时间 双方 类型 金额 状态      |
| 筛选: 日期 / 类型 / 成员     |
+-----------------------------+

```

**交互说明**：
- 点击购买 → 确认支付 → 成功刷新余额
- 发布悬赏 → 表单 → 管理员审批后显示
- 交易记录点击 → 弹窗显示详细信息

---

## 4. 个人页面 (ProfilePage)

**布局原型**：

```

+-----------------------------+
| 个人信息区                   |
| [头像] 昵称                   |
| 留言: "..."                  |
| [编辑按钮]                   |
+-----------------------------+
| 个人余额                     |
| 可自由支配余额: XXX          |
| [余额历史]                   |
+-----------------------------+
| 奖励申请                     |
| [提交申请按钮]               |
| (管理员) [审批入口]           |
+-----------------------------+
| 设置                         |
| 修改昵称/头像                 |
| 密码/登录方式                 |
| 系统设置                     |
+-----------------------------+
| 登录/退出                     |
| [登录按钮] / [退出按钮]       |
+-----------------------------+

```

**交互说明**：
- 编辑头像 → 调用微信头像接口
- 余额历史 → 列表展示流水
- 提交奖励申请 → 提交后等待管理员审批
- 管理员审批入口仅管理员可见


## 5. 权限控制

| 功能                 | 普通成员 | 管理员 |
|----------------------|-----------|--------|
| 查看家庭成员余额       | ✅        | ✅     |
| 创建家庭             | ✅        | ✅     |
| 加入家庭申请          | ✅        | ✅     |
| 设置每月自增额度       | ❌        | ✅     |
| 审批奖励申请          | ❌        | ✅     |
| 发布悬赏任务          | ✅        | ✅     |
| 审批悬赏任务          | ❌        | ✅     |
| 查看交易记录          | ✅        | ✅     |


## 6. 数据与状态管理

- **家庭数据**：成员列表、余额信息、家庭信息
- **交易数据**：服务列表、悬赏任务、交易记录
- **个人数据**：头像、昵称、余额、奖励申请状态
- **请求接口**：REST 风格
  - GET / POST / PUT / DELETE
- **状态管理**：推荐使用 MobX 或 Redux 管理全局状态

---

## 7. 页面组件拆解示例

### 7.1 家庭页面组件树
```

FamilyPage
├─ FamilyInfo (家庭头像/名称/ID)
├─ MemberList
│  └─ MemberItem (头像/姓名/余额)
└─ ActionArea
├─ CreateFamilyButton
├─ JoinFamilyButton
└─ AdminSettingsButton (仅管理员)

```
### 7.2 交易页面组件树

```
TransactionPage
├─ ServiceList
│  └─ ServiceItem (商品名/提供者/价格/购买按钮)
├─ BountyTaskList
│  └─ TaskItem (任务名/发布人/奖励/状态)
└─ TransactionRecord
├─ FilterBar
└─ RecordItem (时间/双方/类型/金额/状态)

```

### 7.3 个人页面组件树
```
ProfilePage
├─ PersonalInfo (头像/昵称/留言/编辑按钮)
├─ BalanceDisplay (可支配余额/余额历史)
├─ RewardApplication (提交申请/审批入口)
├─ Settings (昵称/头像/密码/系统设置)
└─ LoginLogout (登录/退出按钮)

```


## 8. 小结

HomeLedger 前端原型设计核心要点：
1. **清晰展示家庭资金状况**，降低理解成本  
2. **操作直观自然**，符合微信小程序习惯  
3. **权限控制明确**，管理员与普通成员功能分离  
4. **组件化设计**，方便前端快速开发与维护  
5. **可扩展性强**，后续可增加资金提醒、统计报表等功能  


##  9 核心页面

说明：
- 所有尺寸为逻辑布局示意，不代表真实像素
- [] 表示可点击组件
- () 表示状态或说明
- --- 表示区域分割

 ==================================================

1. 家庭页面 FamilyPage 

 ==================================================

```
┌────────────────────────────────────┐
│            家庭信息区              │
│  ┌──────────┐                      │
│  │  家庭头像 │  Home Name          │
│  └──────────┘  ID: HL-XXXX        │
│                                    │
│  成员数: 5      创建时间: XXXX      │
└────────────────────────────────────┘

┌────────────────────────────────────┐
│            成员列表                │
│                                    │
│  ┌──────┐  Alice        余额: 120  │
│  │头像  │  (普通成员)               │
│  └──────┘                          │
│                                    │
│  ┌──────┐  Bob          余额: 85   │
│  │头像  │  (管理员)                 │
│  └──────┘                          │
│                                    │
│  ┌──────┐  Carol        余额: 60   │
│  │头像  │                           │
│  └──────┘                          │
│                                    │
│  (点击成员 → 查看详情)              │
└────────────────────────────────────┘

┌────────────────────────────────────┐
│              操作区                │
│                                    │
│  [ 创建家庭 ]                      │
│  [ 加入家庭 ]                      │
│                                    │
│  (管理员可见)                      │
│  [ 设置每月额度 ]                  │
│  [ 成员审批 ]                      │
│  [ 奖励审批 ]                      │
└────────────────────────────────────┘

```


==================================================

2.交易页面 TransactionPage

==================================================

```
┌────────────────────────────────────┐
│              服务区                 │
│                                    │
│  家务打扫        价格: 20(元)        │
│  [ 购买 ]                          │
│  --------------------------------  │
│  辅导作业        价格: 30(元)        │
│  [ 购买 ]                           │
└────────────────────────────────────┘

┌────────────────────────────────────┐
│            悬赏任务区              │
│                                    │
│  倒垃圾          奖励: 5           │
│  发布人: Alice   状态: 进行中       │
│                                    │
│  修电脑          奖励: 30          │
│  发布人: Bob     状态: 待完成       │
│                                    │
│  [ 发布悬赏 ]                      │
│  (管理员可审批任务)                │
└────────────────────────────────────┘

┌────────────────────────────────────┐
│            交易记录区              │
│                                    │
│  [筛选: 日期 ▼] [类型 ▼] [成员 ▼]  │
│                                    │
│  03-01  Alice→Bob   服务  -10      │
│  03-01  系统→Carol  奖励  +20      │
│  02-28  Bob→Alice   任务  -5       │
│                                    │
│  (点击记录 → 查看详情)              │
└────────────────────────────────────┘
```


==================================================

3. 个人页面 ProfilePage

==================================================
```
┌────────────────────────────────────┐
│             个人信息               │
│                                    │
│  ┌──────┐                          │
│  │头像  │  昵称: Alice             │
│  └──────┘  留言: 今天也要赚钱       │
│                                    │
│  [ 编辑资料 ]                      │
└────────────────────────────────────┘

┌────────────────────────────────────┐
│             个人余额               │
│                                    │
│      可自由支配余额                │
│            120                     │
│                                    │
│  [ 余额变动记录 ]                  │
└────────────────────────────────────┘

┌────────────────────────────────────┐
│             奖励申请               │
│                                    │
│  [ 提交奖励申请 ]                  │
│                                    │
│  (管理员可见)                      │
│  [ 奖励审批 ]                      │
└────────────────────────────────────┘

┌────────────────────────────────────┐
│               设置                 │
│                                    │
│  [ 修改昵称 ]                      │
│  [ 修改头像 ]                      │
│  [ 通知设置 ]                      │
│  [ 系统设置 ]                      │
└────────────────────────────────────┘

┌────────────────────────────────────┐
│            登录 / 退出             │
│                                    │
│  [ 微信登录 ]                      │
│  [ 退出登录 ]                      │
└────────────────────────────────────┘


```
==================================================

4. 底部导航 TabBar

==================================================

```
┌────────────────────────────────────┐
│   家庭        交易        个人      │
│   (Home)     (Swap)     (User)     │
└────────────────────────────────────┘
```